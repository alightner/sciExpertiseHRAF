library(tidyverse)
getwd()
setwd('data-raw/')
library(data.table)
# rm(list=ls())
textDB <- data.table(read_csv('raw-text-dataset.csv'))
# str(textDB)
textDB$ocm <- NULL
save(textDB, file='data/textDB.RData')
save(textDB, file='textDB.RData')
getwd()
setwd('data-raw/')
getwd()
library(tidyverse)
library(readxl)
rm(list=ls())
source('functions.R')
source('database.R')
install.packages('tidyverse')
setwd('data-raw/')
library(tidyverse)
library(readxl)
rm(list=ls())
source('functions.R')
source('database.R')
df <- read_csv('AL-coded-dataset.csv')
load('textDB.RData')
culture_df <- read_csv('culture_table.csv')
install.packages('data.table')
rm(list=ls())
source('functions.R')
source('database.R')
df <- read_csv('AL-coded-dataset.csv')
load('textDB.RData')
culture_df <- read_csv('culture_table.csv')
library(tidyverse)
library(readxl)
rm(list=ls())
source('functions.R')
source('database.R')
df <- read_csv('AL-coded-dataset.csv')
setwd('data-raw/')
rm(list=ls())
source('functions.R')
source('database.R')
df <- read_csv('AL-coded-dataset.csv')
df
load('textDB.RData')
culture_df <- read_csv('culture_table.csv')
culture_df
colnames(culture_df)
colnames(culture_df) <- c(
'cultural_complexity',
'culture_id',
'latitude',
'longitude',
'culture',
'region',
'subregion',
'subsistence_id',
'subsistence_type'
)
culture_df <- culture_df %>%
dplyr::select(
culture_id,
everything()
)
culture_df
library(tidyverse)
library(readxl)
rm(list=ls())
source('functions.R')
source('database.R')
df <- read_csv('AL-coded-dataset.csv')
load('textDB.RData')
culture_df <- read_csv('culture_table.csv')
colnames(culture_df) <- c(
'cultural_complexity',
'culture_id',
'latitude',
'longitude',
'culture',
'region',
'subregion',
'subsistence_id',
'subsistence_type'
)
culture_df <- culture_df %>%
dplyr::select(
culture_id,
everything()
)
culture_df
table(culture_df$culture)
table(textDB$culture)
str(textDB)
textDB$culture_id <- NA
for(i in unique(textDB$culture)){
textDB$culture_id[textDB$culture==i] <-
culture_df$culture_id[culture_df$culture==i]
}
i
library(tidyverse)
library(readxl)
rm(list=ls())
source('functions.R')
source('database.R')
df <- read_csv('AL-coded-dataset.csv')
load('textDB.RData')
culture_df <- read_csv('culture_table.csv')
colnames(culture_df) <- c(
'cultural_complexity',
'culture_id',
'latitude',
'longitude',
'culture',
'region',
'subregion',
'subsistence_id',
'subsistence_type'
)
culture_df <- culture_df %>%
dplyr::select(
culture_id,
everything()
)
textDB$culture[textDB$culture=='Guaran√≠'] <- 'Guarani'
culture_df$culture[culture_df$culture=='Taiwain Hokkien'] <- 'Taiwan Hokkien'
textDB$culture_id <- NA
for(i in unique(textDB$culture)){
textDB$culture_id[textDB$culture==i] <-
culture_df$culture_id[culture_df$culture==i]
}
str(textDB)
df
library(tidyverse)
library(readxl)
rm(list=ls())
source('functions.R')
source('database.R')
df <- read_csv('AL-coded-dataset.csv')
load('textDB.RData')
str(textDB)
df <- read_csv('raw-text-dataset.csv')
textDB <- data.table(read_csv('raw-text-data.csv'))
problems(...)
problems()
library(data.table)
textDB <- data.table(read_csv('raw-text-data.csv'))
textDB <- read_csv('raw-text-data.csv')
para2 <- data.table(read_csv('raw-text-dataset.csv'))
textDB <- data.table(read_csv('raw-text-data.csv'))
library(tidyverse)
library(readxl)
rm(list=ls())
source('functions.R')
#source('database.R')
df <- read_csv('AL-coded-dataset.csv')
load('text_data.Rdata')
text_data
str(text_data)
library(tidyverse)
library(readxl)
rm(list=ls())
source('functions.R')
#source('database.R')
df <- read_csv('AL-coded-dataset.csv')
load('text_data.Rdata')
culture_df <- read_csv('culture_table.csv')
colnames(culture_df) <- c(
'cultural_complexity',
'culture_id',
'latitude',
'longitude',
'culture',
'region',
'subregion',
'subsistence_id',
'subsistence_type'
)
culture_df <- culture_df %>%
dplyr::select(
culture_id,
everything()
)
culture_df$culture
str(text_data)
cites <- unique(text_data$citation)
years <- rep(NA, length(cites))
for(i in 1:length(years)){
years[i] <- as.numeric(unlist(str_extract_all(cites[i], regex('[:digit:]{4}')))[1])
}
decades <- rep(NA, length(years))
for(i in 1:length(years)){
if(!is.na(years[i])){
decades[i] <- as.numeric(paste0(substr(as.character(years[i]),1,3),'0'))
}
}
citeid <- rep(NA, length(cites))
for(i in 1:length(cites)){
citeid[i] <- paste0('cite',
paste0(rep('0',4-nchar(i)), collapse=''),
as.character(i))
}
cite_df <- data.frame(
citation_id=citeid,
citation=cites,
year=years,
decade=decades,
stringsAsFactors=FALSE
)
load('cite_data.Rdata')
cite_data
cites <- unique(text_data$citation)
years <- rep(NA, length(cites))
for(i in 1:length(years)){
years[i] <- as.numeric(unlist(str_extract_all(cites[i], regex('[:digit:]{4}')))[1])
}
decades <- rep(NA, length(years))
for(i in 1:length(years)){
if(!is.na(years[i])){
decades[i] <- as.numeric(paste0(substr(as.character(years[i]),1,3),'0'))
}
}
str(cites)
library(tidyverse)
library(readxl)
rm(list=ls())
source('functions.R')
#source('database.R')
df <- read_csv('AL-coded-dataset.csv')
load('text_data.Rdata')
load('cite_data.Rdata')
culture_df <- read_csv('culture_table.csv')
colnames(culture_df) <- c(
'cultural_complexity',
'culture_id',
'latitude',
'longitude',
'culture',
'region',
'subregion',
'subsistence_id',
'subsistence_type'
)
culture_df <- culture_df %>%
dplyr::select(
culture_id,
everything()
)
culture_df$culture[culture_df$culture=='Taiwain Hokkien'] <- 'Taiwan Hokkien'
str(cite_data)
text_data <- read_delim('raw-text-data.tsv')
text_data <- read_delim('raw-text-data.tsv', delim = " ")
str(text_data)
cite_df <- read_csv('citation_data.csv')
library(tidyverse)
library(readxl)
rm(list=ls())
# source('functions.R')
# source('database.R')
df <- read_csv('AL-coded-dataset.csv')
text_data <- read_delim('raw-text-data.tsv', delim=" ")
cite_df <- read_csv('citation_data.csv')
#load('text_data.Rdata')
#load('cite_data.Rdata')
culture_df <- read_csv('culture_table.csv')
colnames(culture_df) <- c(
'cultural_complexity',
'culture_id',
'latitude',
'longitude',
'culture',
'region',
'subregion',
'subsistence_id',
'subsistence_type'
)
culture_df <- culture_df %>%
dplyr::select(
culture_id,
everything()
)
culture_df$culture[culture_df$culture=='Taiwain Hokkien'] <- 'Taiwan Hokkien'
cite_df$citation_id
i <- 1
cite_df <- read_csv('citation_data.csv')
years <- rep(NA, length(cite_df$citation))
years[i] <- as.numeric(unlist(str_extract_all(cite_df$citation[i], regex('[:digit:]{4}')))[1])
years
cite_df$citation[1]
cite_df <- read_csv('citation_data.csv')
years <- rep(NA, length(cite_df$citation))
for(i in 1:length(years)){
years[i] <- as.numeric(unlist(str_extract_all(cite_df$citation[i], regex('[:digit:]{4}')))[1])
}
decades <- rep(NA, length(years))
for(i in 1:length(years)){
if(!is.na(years[i])){
decades[i] <- as.numeric(paste0(substr(as.character(years[i]),1,3),'0'))
}
}
cite_df$year <- years
cite_df$decade <- decades
library(devtools)
library(tidyverse)
library(readxl)
library(devtools)
rm(list=ls())
df <- read_csv('AL-coded-dataset.csv')
text_data <- read_delim('raw-text-data.tsv', delim=" ")
culture_df <- read_csv('culture_table.csv')
colnames(culture_df) <- c(
'cultural_complexity',
'culture_id',
'latitude',
'longitude',
'culture',
'region',
'subregion',
'subsistence_id',
'subsistence_type'
)
culture_df <- culture_df %>%
dplyr::select(
culture_id,
everything()
)
culture_df$culture[culture_df$culture=='Taiwain Hokkien'] <- 'Taiwan Hokkien'
cite_df <- read_csv('citation_data.csv')
years <- rep(NA, length(cite_df$citation))
for(i in 1:length(years)){
years[i] <- as.numeric(unlist(str_extract_all(cite_df$citation[i], regex('[:digit:]{4}')))[1])
}
decades <- rep(NA, length(years))
for(i in 1:length(years)){
if(!is.na(years[i])){
decades[i] <- as.numeric(paste0(substr(as.character(years[i]),1,3),'0'))
}
}
cite_df$year <- years
cite_df$decade <- decades
library(tidyverse)
library(readxl)
library(devtools)
rm(list=ls())
source('functions.R')
df <- read_csv('AL-coded-dataset.csv')
text_data <- read_delim('raw-text-data.tsv', delim=" ")
culture_df <- read_csv('culture_table.csv')
colnames(culture_df) <- c(
'cultural_complexity',
'culture_id',
'latitude',
'longitude',
'culture',
'region',
'subregion',
'subsistence_id',
'subsistence_type'
)
culture_df <- culture_df %>%
dplyr::select(
culture_id,
everything()
)
culture_df$culture[culture_df$culture=='Taiwain Hokkien'] <- 'Taiwan Hokkien'
cite_df <- read_csv('citation_data.csv')
years <- rep(NA, length(cite_df$citation))
for(i in 1:length(years)){
years[i] <- as.numeric(unlist(str_extract_all(cite_df$citation[i], regex('[:digit:]{4}')))[1])
}
decades <- rep(NA, length(years))
for(i in 1:length(years)){
if(!is.na(years[i])){
decades[i] <- as.numeric(paste0(substr(as.character(years[i]),1,3),'0'))
}
}
cite_df$year <- years
cite_df$decade <- decades
library(devtools)
library(tidyverse)
library(readxl)
library(devtools)
rm(list=ls())
library(sciExpertiseHRAF)
sciExpertiseHRAF::data
load('data/age_data.Rdata')
load('data/cite_data.Rdata')
load('data/culture_data.Rdata')
load('data/data.Rdata')
load('data/domain_data.Rdata')
load('data/learning_data.Rdata')
load('data/status_data.Rdata')
load('data/patron_data.Rdata')
load('data/text_data.Rdata')
usethis::use_data(age_data)
usethis::use_data(cite_data)
usethis::use_data(culture_data)
usethis::use_data(data)
usethis::use_data(domain_data)
usethis::use_data(learning_data)
usethis::use_data(status_data)
usethis::use_data(patron_data)
usethis::use_data(text_data)
library(sciExpertiseHRAF)
sciExpertiseHRAF::data
str(data)
library(tidyverse)
library(readxl)
library(devtools)
rm(list=ls())
source('functions.R')
df <- read_csv('AL-coded-dataset.csv')
text_data <- read_delim('raw-text-data.tsv', delim=" ")
culture_df <- read_csv('culture_table.csv')
colnames(culture_df) <- c(
'cultural_complexity',
'culture_id',
'latitude',
'longitude',
'culture',
'region',
'subregion',
'subsistence_id',
'subsistence_type'
)
culture_df <- culture_df %>%
dplyr::select(
culture_id,
everything()
)
culture_df$culture[culture_df$culture=='Taiwain Hokkien'] <- 'Taiwan Hokkien'
cite_df <- read_csv('citation_data.csv')
years <- rep(NA, length(cite_df$citation))
for(i in 1:length(years)){
years[i] <- as.numeric(unlist(str_extract_all(cite_df$citation[i], regex('[:digit:]{4}')))[1])
}
decades <- rep(NA, length(years))
for(i in 1:length(years)){
if(!is.na(years[i])){
decades[i] <- as.numeric(paste0(substr(as.character(years[i]),1,3),'0'))
}
}
cite_df$year <- years
cite_df$decade <- decades
setwd()
setwd('data-raw')
library(tidyverse)
library(readxl)
library(devtools)
rm(list=ls())
source('functions.R')
df <- read_csv('AL-coded-dataset.csv')
text_data <- read_delim('raw-text-data.tsv', delim=" ")
culture_df <- read_csv('culture_table.csv')
colnames(culture_df) <- c(
'cultural_complexity',
'culture_id',
'latitude',
'longitude',
'culture',
'region',
'subregion',
'subsistence_id',
'subsistence_type'
)
culture_df <- culture_df %>%
dplyr::select(
culture_id,
everything()
)
culture_df$culture[culture_df$culture=='Taiwain Hokkien'] <- 'Taiwan Hokkien'
cite_df <- read_csv('citation_data.csv')
years <- rep(NA, length(cite_df$citation))
for(i in 1:length(years)){
years[i] <- as.numeric(unlist(str_extract_all(cite_df$citation[i], regex('[:digit:]{4}')))[1])
}
decades <- rep(NA, length(years))
for(i in 1:length(years)){
if(!is.na(years[i])){
decades[i] <- as.numeric(paste0(substr(as.character(years[i]),1,3),'0'))
}
}
cite_df$year <- years
cite_df$decade <- decades
data <- df
cite_data <- cite_df
culture_data <- culture_df
usethis::use_data(cite_data)
usethis::use_data(culture_data)
usethis::use_data(data)
usethis::use_data(text_data)
usethis::use_data(cite_data, overwrite=TRUE)
usethis::use_data(culture_data, overwrite=TRUE)
usethis::use_data(data, overwrite=TRUE)
usethis::use_data(text_data, overwrite=TRUE)
library(sciExpertiseHRAF)
sciExpertiseHRAF::data
